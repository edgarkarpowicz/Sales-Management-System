<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<!--
  Archivo: cashierSale.fxml
  Descripción: Pantalla de venta (cliente, productos, total)
-->

<VBox fx:id="salePane" alignment="TOP_CENTER" spacing="15.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controladores.CashierSaleController">
    <padding>
        <Insets bottom="20" left="25" right="25" top="20" />
    </padding>

    <!-- Selección de cliente -->
    <HBox alignment="CENTER_LEFT" spacing="10.0">
        <children>
            <Label text="Cliente:" />
            <ComboBox fx:id="cbCustomer" prefWidth="250" promptText="Seleccione cliente…" />
        </children>
    </HBox>

    <!-- Búsqueda / escaneo -->
    <HBox alignment="CENTER_LEFT" spacing="10.0">
        <children>
            <TextField fx:id="tfSearch" promptText="Escanear o buscar producto…" HBox.hgrow="ALWAYS" />
            <Label text="Cantidad:" />
            <TextField fx:id="tfQuantity" prefWidth="60" promptText="1" text="1" />
            <Button fx:id="btnAddProduct" onAction="#handleAddProduct" text="Agregar" />
        </children>
    </HBox>

    <!-- Tabla de items -->
    <TableView fx:id="tvItems" prefHeight="350.0" VBox.vgrow="ALWAYS">
        <columns>
            <TableColumn fx:id="colCode" prefWidth="100" text="Código" />
            <TableColumn fx:id="colName" prefWidth="260" text="Descripción" />
            <TableColumn fx:id="colQty" prefWidth="70" text="Cant." />
            <TableColumn fx:id="colPrice" prefWidth="100" text="Precio" />
            <TableColumn fx:id="colSubtotal" prefWidth="110" text="Subtotal" />
        </columns>
    </TableView>

    <!-- Total + acciones -->
    <HBox alignment="CENTER_RIGHT" spacing="10.0">
        <children>
            <Label text="Total:" />
            <Label fx:id="lblTotal" text="0.00" />
            <Button fx:id="btnProceedToPayment" onAction="#goToPayment" text="Cobrar" />
            <Button fx:id="btnCancelSale" onAction="#cancelSale" text="Cancelar" />
        </children>
    </HBox>
</VBox>
